--- mem0/memory/main.py
+++ mem0/memory/main.py
@@ -541,7 +541,25 @@
                         returned_memories.append({"id": memory_id, "memory": action_text, "event": event_type})
                     elif event_type == "UPDATE":
-                        self._update_memory(
-                            memory_id=temp_uuid_mapping[resp.get("id")],
+                        # Check if the memory ID exists in the mapping
+                        memory_id_to_update = temp_uuid_mapping.get(resp.get("id"))
+                        if memory_id_to_update is None:
+                            # If memory doesn't exist, treat UPDATE as ADD
+                            logger.warning(f"Memory ID '{resp.get('id')}' not found in existing memories, treating UPDATE as ADD")
+                            memory_id = self._create_memory(
+                                data=action_text,
+                                existing_embeddings=new_message_embeddings,
+                                metadata=deepcopy(metadata),
+                            )
+                            returned_memories.append({"id": memory_id, "memory": action_text, "event": "ADD"})
+                        else:
+                            self._update_memory(
+                                memory_id=memory_id_to_update,
+                                data=action_text,
+                                existing_embeddings=new_message_embeddings,
+                                metadata=deepcopy(metadata),
+                            )
+                            returned_memories.append(
+                                {
+                                    "id": memory_id_to_update,
+                                    "memory": action_text,
+                                    "event": event_type,
+                                    "previous_memory": resp.get("old_memory"),
+                                }
+                            )
+                    elif event_type == "DELETE":
+                        # Check if the memory ID exists before deleting
+                        memory_id_to_delete = temp_uuid_mapping.get(resp.get("id"))
+                        if memory_id_to_delete is None:
+                            logger.warning(f"Memory ID '{resp.get('id')}' not found in existing memories, skipping DELETE")
+                        else:
+                            self._delete_memory(memory_id=memory_id_to_delete)
                             returned_memories.append(
                                 {
-                                    "id": temp_uuid_mapping[resp.get("id")],
+                                    "id": memory_id_to_delete,
                                     "memory": action_text,
                                     "event": event_type,
-                                    "previous_memory": resp.get("old_memory"),
                                 }
                             )
-                    elif event_type == "DELETE":
-                        self._delete_memory(memory_id=temp_uuid_mapping[resp.get("id")])
-                        returned_memories.append(
-                            {
-                                "id": temp_uuid_mapping[resp.get("id")],
-                                "memory": action_text,
-                                "event": event_type,
-                            }
-                        )
                     elif event_type == "NONE":
                         # Even if content doesn't need updating, update session IDs if provided
                         memory_id = temp_uuid_mapping.get(resp.get("id"))
@@ -1572,7 +1600,15 @@
                         memory_tasks.append((task, resp, "ADD", None))
                     elif event_type == "UPDATE":
-                        task = asyncio.create_task(
+                        # Check if the memory ID exists in the mapping
+                        memory_id_to_update = temp_uuid_mapping.get(resp.get("id"))
+                        if memory_id_to_update is None:
+                            # If memory doesn't exist, treat UPDATE as ADD
+                            logger.warning(f"Memory ID '{resp.get('id')}' not found in existing memories, treating UPDATE as ADD (async)")
+                            task = asyncio.create_task(
+                                self._create_memory(
+                                    data=action_text,
+                                    existing_embeddings=new_message_embeddings,
+                                    metadata=deepcopy(metadata),
+                                )
+                            )
+                            memory_tasks.append((task, resp, "ADD", None))
+                        else:
+                            task = asyncio.create_task(
                             self._update_memory(
-                                memory_id=temp_uuid_mapping[resp["id"]],
+                                memory_id=memory_id_to_update,
                                 data=action_text,
                                 existing_embeddings=new_message_embeddings,
                                 metadata=deepcopy(metadata),
                             )
                         )
-                        memory_tasks.append((task, resp, "UPDATE", temp_uuid_mapping[resp["id"]])
+                            memory_tasks.append((task, resp, "UPDATE", memory_id_to_update))
                     elif event_type == "DELETE":
-                        task = asyncio.create_task(self._delete_memory(memory_id=temp_uuid_mapping[resp.get("id")]))
-                        memory_tasks.append((task, resp, "DELETE", temp_uuid_mapping[resp.get("id")]))
+                        # Check if the memory ID exists before deleting
+                        memory_id_to_delete = temp_uuid_mapping.get(resp.get("id"))
+                        if memory_id_to_delete is None:
+                            logger.warning(f"Memory ID '{resp.get('id')}' not found in existing memories, skipping DELETE (async)")
+                        else:
+                            task = asyncio.create_task(self._delete_memory(memory_id=memory_id_to_delete))
+                            memory_tasks.append((task, resp, "DELETE", memory_id_to_delete))
                     elif event_type == "NONE":
                         # Even if content doesn't need updating, update session IDs if provided
                         memory_id = temp_uuid_mapping.get(resp.get("id"))
